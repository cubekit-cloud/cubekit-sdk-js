import t from"axios";var e,a,s,i,o,n,r,p,d,h,c,u,l;!function(t){t.SYNC="sync",t.ATTACH="attach",t.DETACH="detach"}(e||(e={})),function(t){t.COUNT="count",t.SUM="sum",t.AVG="avg",t.MIN="min",t.MAX="max"}(a||(a={})),function(t){t.EQUAL="=",t.INEQUAL="!=",t.LIKE="like",t.ILIKE="ilike",t.MORE=">",t.MORE_OR_EQUAL=">=",t.LESS="<",t.LESS_OR_EQUAL="<="}(s||(s={})),function(t){t.POINTER="pointer",t.SCALAR="scalar"}(i||(i={})),function(t){t.AND="and",t.OR="or"}(o||(o={})),function(t){t.GROUP="group",t.SINGLE="single"}(n||(n={})),function(t){t.LEFT="left",t.RIGHT="right",t.FULL="full",t.INNER="inner"}(r||(r={})),function(t){t.ASC="asc",t.DESC="desc"}(p||(p={})),function(t){t.FIRST="first",t.LAST="last"}(d||(d={})),function(t){t.RESOURCE="resource",t.EXPORT="export"}(h||(h={})),function(t){t.XLSX="xlsx",t.CSV="csv"}(c||(c={})),function(t){t.UTF_8="utf-8",t.WINDOWS_1251="windows-1251"}(u||(u={})),function(t){t.SEARCH="search",t.GET_BY_ID="get_by_id",t.CREATE="create",t.UPDATE="update",t.DELETE="delete"}(l||(l={}));const f="{key}";class E{axios;constructor(e){this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}send(t){switch(t.method){case l.GET_BY_ID:return this.getById(t);case l.CREATE:return this.create(t);case l.UPDATE:return this.update(t);case l.DELETE:return this.delete(t);default:return this.search(t)}}preparePathWithId(t,e){return t=t.indexOf(f)>-1?t.replace(f,e):"/"===t.slice(-1)?`${t}${e}`:`${t}/${e}`}search(t){let e=t.path;const a=t.options;return a.pagination&&(e+="?",a.pagination.limit&&(e=`${e}limit=${a.pagination.limit}&`),a.pagination.page&&(e=`${e}page=${a.pagination.page}`)),delete a.pagination,this.axios.post(e,a)}getById(t){const e=t.options;return this.axios.post(this.preparePathWithId(t.path,e.id),e)}create(t){return this.axios.post(t.path,t.options)}update(t){const e=t.options;return this.axios.put(this.preparePathWithId(t.path,e.id),t.options)}delete(t){const e=t.options;return this.axios.delete(this.preparePathWithId(t.path,e.id),{data:t.options})}}class x{axios;constructor(e){this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}getFolderTree(t){return this.axios.get(`/trees?path=${encodeURIComponent(t||"/")}`).then((t=>t.data.data))}view(t,e,a,s,i){const o=new URLSearchParams;return o.append("path",t||"/"),e&&o.append("order_by",e),a&&o.append("order",a),s&&o.append("filter_by",s),i&&o.append("filter",i),this.axios.get(`/objects?${o.toString()}`).then((t=>t.data.data))}createDirectory(t){return this.axios.put(`/objects/${encodeURIComponent(t)}`).then((t=>t.data))}delete(t){return this.axios.delete("/objects",{data:t}).then((t=>t.data))}upload(t,e,a,s){const i=new FormData;return i.append("path",t),e.forEach((t=>{i.append("files",t)})),this.axios.put("/objects",i,{onUploadProgress:a,signal:s,headers:{"Content-Type":"multipart/form-data"}}).then((t=>t.data))}resend(t){return this.axios.request(t).then((t=>t.data))}simpleUpload(t,e,a,s){const i=new FormData;return i.append("path",t),e.forEach((t=>{i.append("files",t)})),this.axios.post("/objects",i,{onUploadProgress:a,signal:s,headers:{"Content-Type":"multipart/form-data"}}).then((t=>t.data))}move(t,e){return this.axios.patch(`/objects/${encodeURIComponent(t)}`,{target:e}).then((t=>t.data))}download(t,e){return this.axios.post(`/bulkDownloads?path=${encodeURIComponent(t)}`,e,{responseType:"blob"})}}export{a as AggregationsEnum,E as CubekitOrmClient,x as CubekitStorageClient,u as ExportEncodingTypesEnum,c as FileExportTypesEnum,o as FilterBooleansEnum,n as FilterTypesEnum,i as FilterValueTypesEnum,r as JoinTypesEnum,s as OperatorsEnum,p as OrderDirectionsEnum,d as OrderNullPositionsEnum,e as RelationsModesEnum,l as RequestOrmMethodsEnum,h as ResponseTypeEnum};
//# sourceMappingURL=index.js.map
